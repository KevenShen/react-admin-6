import{r as o,d as a,j as t,H as s,J as d}from"./index-ff970420.js";import{P as u}from"./index-a03f06ed.js";import{T as f,C as r}from"./Table-04c70c1b.js";import{p as x}from"./menu-9a7ad817.js";import h from"./editMenu-04772528.js";import y from"./editPos-9a9dfe62.js";import{E as I}from"./EditOutlined-756ff530.js";import{D as C}from"./DeleteOutlined-a7d361e2.js";import"./PlusOutlined-be2d346c.js";import"./index-b7777274.js";import"./request-7bfa538c.js";import"./axios-21b846bc.js";import"./login-9644db1f.js";const T=()=>{console.log("岗位 渲染");const i=o.useRef(null),l=o.useRef(null),[c,p]=o.useState([]),n=async()=>{const{data:e}=await x();p(e)};return o.useEffect(()=>{n()},[]),a(u,{title:"岗位管理",source:"在这里，你可以对系统中的岗位进行管理，岗位对应一个角色,默认拥有角色对应菜单,管理员可以根据岗位定制化菜单(只会修改岗位,不会修改角色对应菜单)。",children:[a("div",{className:"app-card pos",children:[t(s,{wrap:!0,children:t(d,{type:"primary",onClick:n,children:"查询"})}),a(f,{bordered:!0,dataSource:c,rowKey:e=>e.id,children:[t(r,{title:"岗位名称",dataIndex:"name"},"name"),t(r,{title:"岗位代码",dataIndex:"id"},"id"),t(r,{title:"岗位类型",dataIndex:"role_id"},"role_id"),t(r,{title:"机构ID",dataIndex:"org_id"},"org_id"),t(r,{title:"岗位描述",dataIndex:"description"},"description"),t(r,{title:"角色类型",dataIndex:"role",render:e=>typeof e=="object"&&e!==null&&"name"in e?e.name:"未知"},"role.name"),t(r,{title:"操作",render:(e,m)=>a(s,{children:[t(d,{type:"primary",onClick:()=>i==null?void 0:i.current.showModal(m.id),shape:"circle",icon:t(I,{})}),t(d,{type:"primary",danger:!0,shape:"circle",icon:t(C,{})})]})},"action")]})]}),t(h,{ref:i,getList:n}),t(y,{ref:l})]})};export{T as default};
