import{r as e,av as o,j as a,aw as g,I as j}from"./index-893b5070.js";import{b as C}from"./user-e3f0082f.js";import{A as I}from"./index-fc984a4e.js";function S(u,l,n){const[s,d]=e.useState(u);return e.useEffect(()=>{const i=setTimeout(()=>{d(u)},l);return()=>{clearTimeout(i)}},[u,l]),e.useEffect(()=>{s&&n(s)},[s]),s}const V=(u,l)=>{const[n]=o.useForm(),[s,d]=e.useState(""),[i,m]=e.useState([]),[p,c]=e.useState(!1),[f,w]=e.useState(!1);e.useImperativeHandle(l,()=>({showModal:r=>{c(!0)}}));const x=async()=>{};S(s,1e3,async()=>{const{data:r}=await C({name:s});m(r.map(t=>({label:t.username,value:t.username,id:t.id})))});const h=(r,t)=>{d(t.label),n.setFieldValue("userId",t.id),console.log(n.getFieldsValue(),t.id)},b=()=>{c(!1)};return a.jsx(g,{title:"新增用户岗位",open:p,onOk:x,destroyOnClose:!0,getContainer:!1,confirmLoading:f,onCancel:b,children:a.jsxs(o,{form:n,style:{padding:"10px 60px 10px 0"},labelCol:{span:6},name:"basic",initialValues:{remember:!0},autoComplete:"off",children:[a.jsx(o.Item,{label:"选择用户",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:a.jsx(I,{options:i,onSelect:h,onSearch:r=>d(r),placeholder:"input here"})}),a.jsx(o.Item,{name:"userId",hidden:!0}),a.jsx(o.Item,{label:"用户昵称",name:"nickname",rules:[{required:!0,message:"Please input your nickname!"}],children:a.jsx(j,{autoComplete:"off"})})]})})},A=e.forwardRef(V);export{A as default};
//# sourceMappingURL=AddUser-c4be9030.js.map
