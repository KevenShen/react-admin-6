import{r as s,j as e,aw as g,$ as l,a0 as c}from"./index-893b5070.js";import{d as w}from"./user-e3f0082f.js";import I from"./AddPos-b6b4b163.js";import{T as m}from"./Table-37fb6f07.js";import{P}from"./index-7f1610c8.js";import{D as S}from"./DeleteOutlined-1d08d034.js";import"./menu-0bcc1d6d.js";import"./index-fc984a4e.js";import"./index-a3a6dd08.js";const{Column:r}=m,E=(n,p)=>{const i=s.useRef(null),[u,x]=s.useState([]),[f,a]=s.useState(!1),[d,j]=s.useState(""),[h,L]=s.useState(!1);s.useImperativeHandle(p,()=>({showModal:(t=[],o)=>{a(!0),x(t),j(o)}}));const y=async t=>{try{await w({userpos:{user_id:d,posId:t.id}}),console.log(n),n.getList(),a(!1)}catch(o){console.log("Failed:",o)}},C=()=>{a(!1)};return e.jsxs(g,{title:"用户岗位设置",open:f,confirmLoading:h,getContainer:!1,destroyOnClose:!0,onCancel:C,children:[e.jsx(l,{wrap:!0,children:e.jsx(c,{type:"primary",onClick:()=>{var t;return(t=i.current)==null?void 0:t.showModal()},className:"btn-pink",children:"新增"})}),e.jsxs(m,{bordered:!0,dataSource:u,rowKey:t=>t.id,children:[e.jsx(r,{title:"岗位名称",dataIndex:"name"},"name"),e.jsx(r,{title:"岗位id",dataIndex:"id"},"id"),e.jsx(r,{title:"岗位描述",dataIndex:"description"},"description"),e.jsx(r,{title:"岗位状态",dataIndex:"status"},"status"),e.jsx(r,{title:"操作",render:(t,o)=>e.jsx(l,{children:e.jsx(P,{title:"是否确定删除该岗位?",onConfirm:()=>y(o),okText:"确定",cancelText:"取消",children:e.jsx(c,{type:"primary",danger:!0,shape:"circle",icon:e.jsx(S,{})})})})},"action")]}),e.jsx(I,{ref:i,id:d})]})},$=s.forwardRef(E);export{$ as default};
//# sourceMappingURL=EditUser-5efd6b7f.js.map
