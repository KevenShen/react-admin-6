import{z as h,b as T,r,j as o,I as B}from"./index-893b5070.js";import{P as C}from"./index-42ac211f.js";import{c as P,B as b}from"./Box-12b7fabd.js";import"./PlusOutlined-2216b065.js";const v={model:"gpt-3.5-turbo",max_tokens:1e3,temperature:0},d={"Content-Type":"application/json",Authorization:"Bearer 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"};h.create({baseURL:"https://api.openai.com/v1/chat/completions",timeout:5e3,headers:d});function z(s){const t={...v,messages:s};return h.post("https://api.openai.com/v1/chat/completions",t,{headers:d})}const{Search:G}=B;function R(){const[s,t]=T(P),[f,i]=r.useState(""),[l,n]=r.useState(!1),p=r.useRef(document.createElement("input")),x=async e=>{var m;if(p.current.blur(),!e)return;const c=[...s,{role:"user",content:e,time:new Date().getTime()}];i(""),t(c),n(!0);const g=c.map(a=>({role:a.role,content:a.content})),{data:j}=await z(g).catch(a=>{n(!1),console.log(a)}),u=(m=j.choices[0])==null?void 0:m.message;n(!1),t([...c,{role:u.role,content:u.content,time:new Date().getTime()}])};return o.jsx(C,{title:"openAI 交互",source:"ChatGPT模型",children:o.jsxs("div",{className:"app-card chat",children:[o.jsx(b,{}),o.jsx(G,{ref:p,className:"chat-search",placeholder:"请输入你的问题",allowClear:!0,value:f,enterButton:l?"":"发送",loading:l,onChange:e=>i(e.target.value.trim()),onSearch:x})]})})}export{R as default};
//# sourceMappingURL=index-b6276c02.js.map
