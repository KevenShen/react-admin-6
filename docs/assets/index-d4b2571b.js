import{r as s,j as t,$ as p,a0 as i}from"./index-893b5070.js";import{g}from"./user-e3f0082f.js";import{P as j}from"./index-42ac211f.js";import f from"./editUser-65c6e835.js";import{T as l}from"./Table-37fb6f07.js";import{E as y}from"./EditOutlined-bd9f48f9.js";import{D as w}from"./DeleteOutlined-1d08d034.js";import"./PlusOutlined-2216b065.js";import"./index-a3a6dd08.js";const{Column:o}=l,S="在这里，你可以对系统中的用户进行管理，例如添加一个新用户，或者修改系统中已经存在的用户。",N=()=>{console.log("Manage 渲染");const a=s.useRef(null),[d,u]=s.useState([]);s.useState({});const[c,m]=s.useState({current:1,pageSize:10}),n=async(e=c)=>{m(e);const{data:r}=await g({param:{},pageInfo:{pageNum:e.current,pageSize:e.pageSize}});u(r)},x=async e=>{a==null||a.current.showModal(e)},h=e=>e?e.includes("http")?e:"http://"+window.document.location.host+"/api"+e:"";return s.useEffect(()=>{n(c)},[]),t.jsx(j,{title:"用户管理",source:S,children:t.jsxs("div",{className:"app-card",children:[" ",t.jsxs(p,{wrap:!0,children:[t.jsx(i,{type:"primary",onClick:()=>n(),children:"查询"}),t.jsx(i,{type:"primary",onClick:()=>a==null?void 0:a.current.showModal(),className:"btn-pink",children:"新增"})]}),t.jsxs(l,{bordered:!0,dataSource:d,onChange:n,pagination:{...c,pageSizeOptions:[5,10],showTotal:e=>`共 ${e} 条`,showSizeChanger:!0},rowKey:e=>e.id,children:[t.jsx(o,{title:"用户名称",dataIndex:"username"},"username"),t.jsx(o,{title:"用户昵称",dataIndex:"nickname"},"nickname"),t.jsx(o,{title:"头像",dataIndex:"avatar",render:(e,r)=>t.jsx("img",{style:{width:"64px",height:"64px"},src:h(r.avatar),alt:"avatar"})},"avatar"),t.jsx(o,{title:"操作",render:(e,r)=>t.jsxs(p,{children:[t.jsx(i,{type:"primary",shape:"circle",onClick:()=>x(r),icon:t.jsx(y,{})}),t.jsx(i,{type:"primary",danger:!0,shape:"circle",icon:t.jsx(w,{})})]})},"action")]}),t.jsx(f,{ref:a,getList:()=>n()})]})})};export{N as default};
//# sourceMappingURL=index-d4b2571b.js.map
